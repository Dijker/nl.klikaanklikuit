<script>
var options = {
	template: '../lib/pair/test_switch.html',
	id: 'generic_test_switch_2',
	next: 'generic_done',
	initWithDeviceData: true,
	sendToggleOnInit: false,
	title: 'deviceClasses.blinds.views.generic_test_switch.title',
	body: 'deviceClasses.blinds.views.generic_test_switch_2.body',
	svg: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 17.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="239px" height="174.314px" viewBox="14 0 208.781 174.314" enable-background="new 0 0 198.781 174.314"\n\t xmlns:animation="-" animation:down="up" xmlns:onclick="-" xmlns:down="-" xml:space="preserve" animation:flip="noflip" xmlns:flip="-" animation:invert="" xmlns:invert="-">\n\t<style><![CDATA[\n\tsvg .invert.up {\n        -moz-animation: down 1.5s steps(10, end) forwards;\n        -webkit-animation: down 1.5s steps(10, end) forwards;\n        -ms-animation: down 1.5s steps(10, end) forwards;\n        animation: down 1.5s steps(10, end) forwards;\n      }\n\n     svg .invert.down {\n        -moz-animation: up 1.5s steps(10, end) forwards;\n        -webkit-animation: up 1.5s steps(10, end) forwards;\n        -ms-animation: up 1.5s steps(10, end) forwards;\n        animation: up 1.5s steps(10, end) forwards;\n      }\n\n     svg .down {\n        -moz-animation: down 1.5s steps(10, end) forwards;\n        -webkit-animation: down 1.5s steps(10, end) forwards;\n        -ms-animation: down 1.5s steps(10, end) forwards;\n        animation: down 1.5s steps(10, end) forwards;\n      }\n\n     svg .up {\n        -moz-animation: up 1.5s steps(10, end) forwards;\n        -webkit-animation: up 1.5s steps(10, end) forwards;\n        -ms-animation: up 1.5s steps(10, end) forwards;\n        animation: up 1.5s steps(10, end) forwards;\n      }\n\n     @-webkit-keyframes down {\n     \tfrom{\n     \t\theight: 26px;\n     \t}\n     \tto{\n     \t\theight: 167px;\n     \t}\n      }\n\n      @keyframes down {\n     \tfrom{\n     \t\theight: 26px;\n     \t}\n     \tto{\n     \t\theight: 167px;\n     \t}\n      }\n\n     @-webkit-keyframes up {\n     \tfrom{\n     \t\theight: 167px;\n     \t}\n     \tto{\n     \t\theight: 26px;\n     \t}\n      }\n\n      @keyframes up {\n     \tfrom{\n     \t\theight: 167px;\n     \t}\n     \tto{\n     \t\theight: 26px;\n     \t}\n      }\n      svg .noflip {\n\t\ttransform-origin: 50% 50%;\n        -moz-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -webkit-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -ms-animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        animation: noflip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n      }\n     svg .flip {\n\t\ttransform-origin: 50% 50%;\n        -moz-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -webkit-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        -ms-animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n        animation: flip 0.5s cubic-bezier(0.65, 0.05, 0.36, 1) forwards;\n      }\n\n     @-webkit-keyframes flip {\n          from {\n\t\t\ttransform: rotate(0);\n          }\n          to {\n\t\t\ttransform: rotate(180deg);\n          }\n      }\n\n      @keyframes flip {\n          from {\n\t\t\ttransform: rotate(0);\n          }\n          to {\n\t\t\ttransform: rotate(180deg);\n          }\n      }\n\n     @-webkit-keyframes noflip {\n          from {\n\t\t\ttransform: rotate(180deg);\n          }\n          to {\n\t\t\ttransform: rotate(0);\n          }\n      }\n\n      @keyframes noflip {\n          from {\n\t\t\ttransform: rotate(180deg);\n          }\n          to {\n\t\t\ttransform: rotate(0);\n          }\n      }\n   ]]></style><rect\n     x="6.813"\n     y="0.25"\n     fill-rule="evenodd"\n     clip-rule="evenodd"\n     fill="#2B2A29"\n     width="185.25"\n     height="25.029"\n     id="rect6888" /><rect\n     x="6.813"\n     y="0.25"\n     fill="none"\n     stroke="#2B2A29"\n     stroke-width="0.5"\n     stroke-miterlimit="22.9256"\n     width="185.25"\n     height="25.029"\n     id="rect6890" /><rect\n     x="193.656"\n     y="5.969"\n     fill-rule="evenodd"\n     clip-rule="evenodd"\n     fill="#2B2A29"\n     width="4.875"\n     height="14.719"\n     id="rect6892" /><rect\n     x="193.656"\n     y="5.969"\n     fill="none"\n     stroke="#2B2A29"\n     stroke-width="0.5"\n     stroke-miterlimit="22.9256"\n     width="4.875"\n     height="14.719"\n     id="rect6894" />\n\t<foreignObject\n\t invert:rotated="180"\n     down:state="0"\n     width="190"><svg\n       width="190"\n       height="170"><rect\n         x="15.624"\n         y="27.156"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="27.156"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="41.329"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="41.329"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="55.503"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="55.503"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="69.676"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="69.676"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="83.849"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="83.849"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="98.022"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="98.022"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="112.195"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="112.195"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="126.369"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="126.369"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="140.542"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="140.542"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="154.715"\n         fill-rule="evenodd"\n         clip-rule="evenodd"\n         fill="#2B2A29"\n         width="168.189"\n         height="11.812" /><rect\n         x="15.624"\n         y="154.715"\n         fill="none"\n         stroke="#2B2A29"\n         stroke-width="0.5"\n         stroke-miterlimit="22.9256"\n         width="168.189"\n         height="11.812" /></svg>\n\t</foreignObject>\n\t<rect\n     x="11.688"\n     y="168.158"\n     fill-rule="evenodd"\n     clip-rule="evenodd"\n     fill="#2B2A29"\n     width="176.062"\n     height="5.906"\n     id="rect6896" /><rect\n     x="11.688"\n     y="168.158"\n     fill="none"\n     stroke="#2B2A29"\n     stroke-width="0.5"\n     stroke-miterlimit="22.9256"\n     width="176.062"\n     height="5.906"\n     id="rect6898" /><rect\n     x="193.656"\n     y="27.344"\n     fill-rule="evenodd"\n     clip-rule="evenodd"\n     fill="#2B2A29"\n     width="1.968"\n     height="66.564"\n     id="rect6900" /><rect\n     x="193.656"\n     y="27.344"\n     fill="none"\n     stroke="#2B2A29"\n     stroke-width="0.5"\n     stroke-miterlimit="22.9256"\n     width="1.968"\n     height="66.564"\n     id="rect6902" /><rect\n     x="0.25"\n     y="5.969"\n     fill-rule="evenodd"\n     clip-rule="evenodd"\n     fill="#2B2A29"\n     width="4.875"\n     height="14.719"\n     id="rect6904" /><rect\n     x="0.25"\n     y="5.969"\n     fill="none"\n     stroke="#2B2A29"\n     stroke-width="0.5"\n     stroke-miterlimit="22.9256"\n     width="4.875"\n     height="14.719"\n     id="rect6906" />\n\t<g flip:rotated="180">\n\t<g onclick:send=\'{ "state": 1 }\'>\n\t\t<rect\n     style="fill:#2b2a29;fill-opacity:1"\n     id="rect7454"\n     width="19.585583"\n     height="16.974173"\n     x="206.9782"\n     y="71.934189" />\n\t<path\n     style="fill:#ffffff;fill-opacity:1"\n     id="path7471"\n     d="m 218.50982,60.652327 4.43071,7.561145 4.43072,7.561143 -8.7635,0.05654 -8.7635,0.05654 4.33278,-7.617684 z"\n     transform="matrix(0.94412739,0,0,0.73860805,10.369478,29.731462)" />\n\t</g>\n\t<g onclick:send=\'{ "state": 0 }\'>\n\t\t<rect\n     style="fill:#2b2a29;fill-opacity:1"\n     id="rect7454-7"\n     width="19.585583"\n     height="16.974173"\n     x="206.9129"\n     y="93.341507" />\n\t<path\n     style="fill:#ffffff;fill-opacity:1"\n     id="path7471-0"\n     d="m 218.50982,60.652327 4.43071,7.561145 4.43072,7.561143 -8.7635,0.05654 -8.7635,0.05654 4.33278,-7.617684 z"\n     transform="matrix(-0.94412739,0,0,-0.73860805,423.05536,152.35382)" />\n\t</g>\n\t</g>\n</svg>\n',
	svgHeight: '60vh',
	svgWidth: '80vw',
	previous: true
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container"></div>
	<div id="body"><span class="content"></span></div>
</div>

<script>
	var idPrefix = '[data-id="' + options.id + '"] ';
	$(idPrefix + '#body > span').html(__(options.body));
	var $imageContainer = $(idPrefix + '#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);

	$imageContainer.html(options.svg);
	Homey.emit('test', function (err, device) {
		if (err) {
			Homey.alert(__(err.message || err));
			return;
		}

		$imageContainer.highlight(device, options.initWithDeviceData ? device.data : false);
		if (options.sendToggleOnInit) {
			Homey.emit('toggle');
		}
	});
</script>

<script>

$('<div>').append(
	$('<input id="invert-checkbox" type="checkbox" style="position: relative; bottom: 1px; vertical-align: middle;">')
		.on('change', function(){ 
			var newSettings = { rotated: this.checked ? '180' : '0'};
			Homey.emit('set_settings', newSettings, function(){
				Homey.highlight(newSettings);
			})
		}),
	$('<label for="invert-checkbox" style="padding: 0 1em;">')
		.html(__('deviceClasses.blinds.settings.rotated.label'))
).insertAfter('[data-id="generic_test_switch_2"] .centered-container > #image-container')
</script>