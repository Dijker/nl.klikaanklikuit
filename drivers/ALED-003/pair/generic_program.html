<script>
var options = {
	template: '../lib/pair/program.html',
	id: 'generic_program',
	previous: 'generic_choice',
	title: 'deviceClasses.generic_socket.views.generic_program.title',
	body: 'devices.ALED-003.views.generic_program.body',
	svg: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 1051.4 1099.9" style="enable-background:new 0 0 1051.4 1099.9;" xml:space="preserve">\n<g>\n\t<path d="M1041.5,0H9.9C4.5,0,0,4.5,0,9.9V1090c0,5.5,4.5,9.9,9.9,9.9h1031.6c5.5,0,9.9-4.5,9.9-9.9V9.9C1051.4,4.5,1047,0,1041.5,0\n\t\tz M1037.3,1085.7H14.2V14.2h1023.1V1085.7z"/>\n\t<path d="M193.4,882.3c43.2,43.2,93.4,77.1,149.4,100.7c57.9,24.5,119.5,36.9,182.9,36.9c63.4,0,125-12.4,182.9-36.9\n\t\tc56-23.7,106.2-57.6,149.4-100.7c43.2-43.2,77.1-93.4,100.7-149.4c24.5-57.9,36.9-119.5,36.9-182.9c0-63.4-12.4-125-36.9-182.9\n\t\tc-23.7-56-57.6-106.2-100.7-149.4c-43.2-43.2-93.4-77.1-149.4-100.7C650.7,92.4,589.2,80,525.7,80c-63.4,0-125,12.4-182.9,36.9\n\t\tc-56,23.7-106.2,57.6-149.4,100.7S116.3,311,92.6,367C68.1,425,55.7,486.5,55.7,550c0,63.4,12.4,125,36.9,182.9\n\t\tC116.3,788.9,150.2,839.1,193.4,882.3z M99.2,369.8c23.3-55.1,56.7-104.6,99.2-147.1c42.5-42.5,92-75.9,147.1-99.2\n\t\tC402.6,99.3,463.2,87,525.7,87s123.1,12.2,180.2,36.4c55.1,23.3,104.6,56.7,147.1,99.2c42.5,42.5,75.9,92,99.2,147.1\n\t\tc24.1,57.1,36.4,117.7,36.4,180.2c0,62.5-12.2,123.1-36.4,180.2c-23.3,55.1-56.7,104.6-99.2,147.1c-42.5,42.5-92,75.9-147.1,99.2\n\t\tc-57.1,24.1-117.7,36.4-180.2,36.4s-123.1-12.2-180.2-36.4c-55.1-23.3-104.6-56.7-147.1-99.2c-42.5-42.5-75.9-92-99.2-147.1\n\t\tC75,673.1,62.8,612.5,62.8,550C62.8,487.5,75,426.8,99.2,369.8z"/>\n\t<path d="M248.1,827.6c36.1,36.1,78.1,64.4,124.8,84.1c48.4,20.5,99.8,30.9,152.8,30.9s104.4-10.4,152.8-30.9\n\t\tc46.8-19.8,88.8-48.1,124.8-84.1c36.1-36.1,64.4-78.1,84.1-124.8C908,654.4,918.4,603,918.4,550c0-53-10.4-104.4-30.9-152.8\n\t\tc-19.8-46.8-48.1-88.8-84.1-124.8c-36.1-36.1-78.1-64.4-124.8-84.1c-48.4-20.5-99.8-30.9-152.8-30.9s-104.4,10.4-152.8,30.9\n\t\tc-46.8,19.8-88.8,48.1-124.8,84.1c-36.1,36.1-64.4,78.1-84.1,124.8c-20.5,48.4-30.9,99.8-30.9,152.8c0,53,10.4,104.4,30.9,152.8\n\t\tC183.7,749.6,212,791.6,248.1,827.6z M170.4,399.9c19.4-45.9,47.2-87.1,82.6-122.6s76.6-63.2,122.6-82.6\n\t\tc47.5-20.1,98-30.3,150.1-30.3c52.1,0,102.5,10.2,150.1,30.3c45.9,19.4,87.1,47.2,122.6,82.6c35.4,35.4,63.2,76.6,82.6,122.6\n\t\tc20.1,47.5,30.3,98,30.3,150.1S901.1,652.5,881,700c-19.4,45.9-47.2,87.1-82.6,122.6c-35.4,35.4-76.6,63.2-122.6,82.6\n\t\tc-47.5,20.1-98,30.3-150.1,30.3c-52.1,0-102.5-10.2-150.1-30.3c-45.9-19.4-87.1-47.2-122.6-82.6c-35.4-35.4-63.2-76.6-82.6-122.6\n\t\tc-20.1-47.5-30.3-98-30.3-150.1S150.3,447.4,170.4,399.9z"/>\n\t<path d="M525.7,886.2c89.8,0,174.3-35,237.8-98.5S862,639.8,862,550s-35-174.3-98.5-237.8c-63.5-63.5-148-98.5-237.8-98.5\n\t\tc-89.8,0-174.3,35-237.8,98.5c-63.5,63.5-98.5,148-98.5,237.8s35,174.3,98.5,237.8C351.5,851.2,435.9,886.2,525.7,886.2z\n\t\t M298,322.2c60.8-60.8,141.7-94.3,227.7-94.3c86,0,166.9,33.5,227.7,94.3c60.8,60.8,94.3,141.7,94.3,227.7s-33.5,166.9-94.3,227.8\n\t\tS611.7,872,525.7,872S358.8,838.5,298,777.7S203.6,636,203.6,550S237.1,383,298,322.2z"/>\n\t<path d="M525.7,505.9c60.6,0,109.9-49.3,109.9-109.9S586.3,286,525.7,286c-60.6,0-109.9,49.3-109.9,109.9S465.1,505.9,525.7,505.9z\n\t\t M525.7,293.1c56.7,0,102.8,46.1,102.8,102.8s-46.1,102.8-102.8,102.8s-102.8-46.1-102.8-102.8S469,293.1,525.7,293.1z"/>\n\t<path d="M384.9,727.3c60.6,0,109.9-49.3,109.9-109.9s-49.3-109.9-109.9-109.9S275,556.8,275,617.4S324.3,727.3,384.9,727.3z\n\t\t M384.9,514.6c56.7,0,102.8,46.1,102.8,102.8s-46.1,102.8-102.8,102.8s-102.8-46.1-102.8-102.8S328.2,514.6,384.9,514.6z"/>\n\t<path d="M556.6,618.3c0,60.6,49.3,109.9,109.9,109.9s109.9-49.3,109.9-109.9s-49.3-109.9-109.9-109.9S556.6,557.7,556.6,618.3z\n\t\t M666.5,515.5c56.7,0,102.8,46.1,102.8,102.8c0,56.7-46.1,102.8-102.8,102.8S563.7,675,563.7,618.3\n\t\tC563.7,561.6,609.8,515.5,666.5,515.5z"/>\n\t<path d="M384.9,677.3c33,0,59.9-26.9,59.9-59.9s-26.9-59.9-59.9-59.9S325,584.4,325,617.4S351.9,677.3,384.9,677.3z M384.9,561.1\n\t\tc31.1,0,56.4,25.3,56.4,56.4s-25.3,56.4-56.4,56.4s-56.4-25.3-56.4-56.4S353.8,561.1,384.9,561.1z"/>\n\t<path d="M666.5,678.2c33,0,59.9-26.9,59.9-59.9s-26.9-59.9-59.9-59.9s-59.9,26.9-59.9,59.9S633.5,678.2,666.5,678.2z M666.5,561.9\n\t\tc31.1,0,56.4,25.3,56.4,56.4s-25.3,56.4-56.4,56.4s-56.4-25.3-56.4-56.4S635.4,561.9,666.5,561.9z"/>\n\t<path d="M525.7,455.8c33,0,59.9-26.9,59.9-59.9S558.7,336,525.7,336s-59.9,26.9-59.9,59.9S492.7,455.8,525.7,455.8z M525.7,339.6\n\t\tc31.1,0,56.4,25.3,56.4,56.4c0,31.1-25.3,56.4-56.4,56.4c-31.1,0-56.4-25.3-56.4-56.4C469.4,364.9,494.6,339.6,525.7,339.6z"/>\n\t<path d="M525.7,846.7c82,0,156.1-33.2,209.9-86.9c53.7-53.7,86.9-127.9,86.9-209.9s-33.2-156.1-86.9-209.9\n\t\tc-52-52-123.3-84.8-202.3-86.8c-2.5-0.1-5.1-0.1-7.6-0.1s-5.1,0-7.6,0.1c-78.9,2-150.2,34.8-202.3,86.8\n\t\tC262.2,393.8,228.9,468,228.9,550s33.2,156.1,86.9,209.9C369.6,813.5,443.8,846.7,525.7,846.7z M315.4,749.1\n\t\tc-0.4-0.4-0.7-0.8-1.1-1.2c-1.3-1.4-2.6-2.7-3.8-4.1c-0.5-0.5-0.9-1.1-1.4-1.6c-1.1-1.3-2.3-2.6-3.4-3.8c-0.5-0.6-1-1.2-1.6-1.8\n\t\tc-1-1.2-2.1-2.5-3.1-3.7c-0.6-0.7-1.1-1.4-1.6-2c-1-1.2-1.9-2.4-2.9-3.6c-0.6-0.7-1.1-1.5-1.7-2.2c-0.9-1.2-1.8-2.4-2.7-3.6\n\t\tc-0.6-0.8-1.1-1.5-1.7-2.3c-0.9-1.2-1.7-2.4-2.5-3.6c-0.6-0.8-1.1-1.6-1.7-2.4c-0.8-1.2-1.6-2.4-2.4-3.6c-0.5-0.8-1.1-1.6-1.6-2.5\n\t\tc-0.8-1.2-1.6-2.5-2.3-3.7c-0.5-0.8-1-1.6-1.5-2.5c-0.8-1.3-1.5-2.6-2.3-3.9c-0.5-0.8-1-1.6-1.4-2.4c-0.8-1.4-1.6-2.9-2.4-4.3\n\t\tc-0.4-0.7-0.8-1.4-1.2-2.1c-1.2-2.1-2.3-4.3-3.4-6.4c-0.2-0.5-0.5-0.9-0.7-1.4c-0.9-1.7-1.7-3.4-2.6-5.2c-0.5-1-0.9-1.9-1.4-2.9\n\t\tc-0.6-1.2-1.1-2.4-1.7-3.6c-0.4-1-0.9-2-1.3-3c-0.5-1.2-1.1-2.4-1.6-3.6c-0.4-1-0.8-2-1.2-3.1c-0.5-1.2-1-2.4-1.5-3.6\n\t\tc-0.4-1-0.8-2.1-1.2-3.1c-0.5-1.2-0.9-2.4-1.4-3.7c-0.4-1-0.7-2.1-1.1-3.1c-0.4-1.2-0.9-2.5-1.3-3.7c-0.3-1-0.7-2.1-1-3.1\n\t\tc-0.4-1.3-0.8-2.5-1.2-3.8c-0.3-1-0.6-2.1-0.9-3.1c-0.4-1.3-0.8-2.6-1.1-3.9c-0.3-1-0.6-2.1-0.9-3.1c-0.3-1.3-0.7-2.6-1-3.9\n\t\tc-0.3-1-0.5-2.1-0.8-3.1c-0.3-1.3-0.6-2.7-0.9-4c-0.2-1-0.5-2.1-0.7-3.1c-0.3-1.4-0.6-2.7-0.8-4.1c-0.2-1-0.4-2.1-0.6-3.1\n\t\tc-0.3-1.4-0.5-2.8-0.7-4.2c-0.2-1-0.3-2.1-0.5-3.1c-0.2-1.4-0.4-2.9-0.7-4.3c-0.1-1-0.3-2-0.4-3.1c-0.2-1.5-0.4-2.9-0.5-4.4\n\t\tc-0.1-1-0.2-2-0.3-3c-0.2-1.5-0.3-3-0.4-4.5c-0.1-1-0.2-2-0.3-3c-0.1-1.5-0.2-3.1-0.3-4.6c-0.1-1-0.1-1.9-0.2-2.9\n\t\tc-0.1-1.6-0.2-3.2-0.2-4.7c0-0.7-0.1-1.3-0.1-2c11-28.3,29.9-52.7,54-70.5c23.7-17.5,52.4-28.7,83.7-30.8l4.8-0.3l-1.7-4.5\n\t\tc-3.5-9-6.2-18.5-8-28.2c-1.8-9.5-2.7-19.3-2.7-29.3c0-21.8,4.4-42.5,12.3-61.4c8.1-19.4,20-36.9,34.6-51.5\n\t\tc32.4-13.7,67.8-21.7,105-22.6c0.1,0,0.1,0,0.2,0c2.5-0.1,5-0.1,7.5-0.1c2.5,0,5,0,7.5,0.1c0,0,0.1,0,0.1,0\n\t\tc37.2,1,72.6,8.9,105,22.6c14.7,14.6,26.5,32.1,34.6,51.5c7.9,18.9,12.3,39.6,12.3,61.4c0,10.2-1,20.2-2.8,29.8\n\t\tc-1.9,9.9-4.6,19.4-8.3,28.6l-1.8,4.5l4.8,0.3c31.3,2.1,60.1,13.2,83.8,30.7c24.1,17.8,43,42.2,54.1,70.6c0,0.4,0,0.8,0,1.2\n\t\tc-0.1,1.9-0.2,3.7-0.3,5.6c0,0.7-0.1,1.4-0.1,2.1c-0.1,1.8-0.3,3.7-0.4,5.5c-0.1,0.7-0.1,1.4-0.2,2.1c-0.2,1.8-0.4,3.7-0.6,5.5\n\t\tc-0.1,0.7-0.2,1.3-0.2,2c-0.2,1.8-0.5,3.7-0.7,5.5c-0.1,0.6-0.2,1.3-0.3,1.9c-0.3,1.9-0.6,3.7-0.9,5.6c-0.1,0.6-0.2,1.2-0.3,1.8\n\t\tc-0.3,1.9-0.7,3.8-1,5.7c-0.1,0.5-0.2,1.1-0.3,1.6c-0.4,2-0.8,3.9-1.2,5.8c-0.1,0.5-0.2,0.9-0.3,1.4c-0.5,2-0.9,4.1-1.4,6.1\n\t\tc-0.1,0.4-0.2,0.7-0.3,1.1c-0.5,2.2-1.1,4.3-1.7,6.5c-0.1,0.2-0.1,0.4-0.2,0.6c-4.7,16.7-10.8,32.9-18.3,48.3\n\t\tc-1.1,2.3-2.2,4.5-3.4,6.7c0,0.1-0.1,0.1-0.1,0.2c-1.1,2.1-2.2,4.2-3.4,6.3c-0.1,0.2-0.3,0.5-0.4,0.7c-1.1,1.9-2.2,3.8-3.3,5.7\n\t\tc-0.2,0.3-0.4,0.6-0.5,0.9c-1.1,1.8-2.2,3.7-3.3,5.5c-0.2,0.3-0.4,0.6-0.6,1c-1.1,1.8-2.3,3.6-3.4,5.3c-0.2,0.3-0.4,0.6-0.6,0.9\n\t\tc-1.2,1.8-2.4,3.6-3.6,5.4c-0.2,0.3-0.3,0.5-0.5,0.8c-1.3,1.9-2.6,3.7-4,5.5c-0.1,0.1-0.2,0.3-0.3,0.4\n\t\tc-10.4,14.1-22,27.2-34.8,39.2c0,0,0,0-0.1,0.1c-1.8,1.7-3.5,3.3-5.3,4.9c-0.1,0.1-0.3,0.3-0.4,0.4c-1.7,1.5-3.4,3-5.1,4.5\n\t\tc-0.1,0.1-0.2,0.2-0.3,0.2c-7.3,2.2-14.8,3.9-22.6,5.1c-7.8,1.2-15.8,1.8-23.9,1.8c-29,0-56.1-7.7-79.5-21.2\n\t\tc-24.2-14-44.5-34.1-58.5-58.3l-3-5.2l-3.1,5.2c-14.1,23.9-34.3,43.9-58.5,57.7c-23.3,13.3-50.3,20.9-79,20.9\n\t\tc-8.5,0-16.7-0.7-24.8-1.9c-8-1.2-15.8-3.1-23.4-5.5c0,0,0,0-0.1-0.1c-5.6-4.9-11.1-9.9-16.3-15.2c-0.1-0.1-0.3-0.3-0.4-0.4\n\t\tC318.4,752.4,316.9,750.8,315.4,749.1z M350.1,780.4c3,0.6,5.9,1.2,8.9,1.7c8.5,1.3,17.1,2,25.8,2c30,0,58.2-8,82.5-21.9\n\t\tc23.5-13.4,43.4-32.4,58-55.2c14.5,23,34.5,42.2,58.1,55.8c24.5,14.1,52.8,22.1,83,22.1c8.5,0,16.8-0.6,25-1.9\n\t\tc2.8-0.4,5.5-0.9,8.2-1.5c-48.4,36.4-108.7,58.1-174,58.1C459.7,839.7,398.8,817.6,350.1,780.4z M815.3,543.4\n\t\tc-11.8-23.5-29-43.8-50-59.2c-23.6-17.4-52-28.8-82.8-31.7c3-8.2,5.3-16.7,6.9-25.4c1.9-10.1,2.9-20.5,2.9-31.1\n\t\tc0-22.7-4.6-44.4-12.8-64.1c-6.3-15-14.7-28.9-24.8-41.3c28.2,14.1,53.8,32.5,75.9,54.6C781.5,396.1,813.6,466,815.3,543.4z\n\t\t M320.9,345.1c22.1-22.1,47.7-40.6,75.9-54.6c-10.2,12.4-18.6,26.3-24.8,41.3c-8.2,19.7-12.8,41.4-12.8,64.1\n\t\tc0,10.4,1,20.7,2.8,30.6c1.6,8.6,3.9,17,6.7,25.1c-30.8,3-59.1,14.4-82.7,31.8c-20.9,15.5-38,35.7-49.8,59.1\n\t\tC238.1,465.5,270.1,395.9,320.9,345.1z"/>\n</g>\n</svg>\n',
	svgWidth: '80vw',
	svgHeight: '70vh',
	initWithDeviceData: false,
	next: true
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container"></div>
	<div id="body"><span class="content"></span></div>
	<div class="programAnimation" id="sendProgramSignalBackground" style="display:none;"></div>
	<i class="loading fa fa-cog fa-spin programAnimation" id="sendProgramSignalSpinner" style="display:none;"></i>
</div>

<script>
	var $container = $('[data-id="' + options.id + '"] ');
	$container.find('#body > span').html(__(options.body));
	var $imageContainer = $container.find('#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);
	var $programElems = $container.find('.programAnimation');

	$imageContainer.html(options.svg);
	$imageContainer.highlight();

	if (!$container.find('.view-navigation-next.dummy').length) {
		var $nextButton = $container.find('.view-navigation-next');
		var $nextButtonDummy = $nextButton.clone().addClass('dummy');
		$nextButton.hide();
		$nextButton.parent().append($nextButtonDummy);

		$nextButtonDummy.on('click', function (e) {
			$programElems.show();
			Homey.emit('program_send', function (err) {
				if (err){
					Homey.alert(err.message && err.message.indexOf(' ') === -1 && __(err.message) !== err.message ? __(err.message) : JSON.stringify(err));
					return;
				}
				$nextButtonDummy.siblings('.view-navigation-next').click();
				$programElems.hide();
			});
			e.stopPropagation();
			return false;
		});
	}

	Homey.emit('program', function(err, device){
		const dataKey = JSON.stringify(device.data);
		window.selected_devices = [ dataKey ];
		window.found_devices = {};
		window.found_devices[dataKey] = device;
	});
</script>

<style>
	#sendProgramSignalSpinner {
		z-index: 2;
		position: absolute;
		top: 25vh;
		left: 38vw;
		font-size: 9vh;
		opacity: 1;
	}

	#sendProgramSignalBackground {
		z-index: 1;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		position: absolute;
		background-color: #FFF;
		opacity: 0.8;
	}
</style>