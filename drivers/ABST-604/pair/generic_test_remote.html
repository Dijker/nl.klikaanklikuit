<script>
var options = {
	template: '../lib/pair/test_remote.html',
	id: 'generic_test_remote',
	body: 'deviceClasses.sensor.views.generic_test_remote.body',
	initWithDeviceData: true,
	svg: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="-258.3 372.4 57.2 52.1" style="enable-background:new -258.3 372.4 57.2 52.1;" xml:space="preserve"\n    xmlns:show="-">\n<g show:state="1"\n     id="g5733"><path\n       d="M-241.9,408.1c-9.7-9.7-10.9-24.7-3.6-35.7c-1.6,1-3.1,2.2-4.4,3.6c-11.1,11.1-11.1,29,0,40.1s29,11.1,40.1,0             c1.4-1.4,2.6-2.9,3.6-4.4C-217.2,419-232.2,417.8-241.9,408.1z"\n       id="path5735" /><path\n       d="M-232.3,376.8l2.4,4.8l5.3,0.8l-3.8,3.7l0.9,5.3l-4.7-2.5l-4.7,2.5l0.9-5.3l-3.8-3.7l5.3-0.8L-232.3,376.8z"\n       id="path5737" /><path\n       d="M-215.1,400.7l1,2.1l2.3,0.3l-1.7,1.6l0.4,2.3l-2.1-1.1l-2.1,1.1l0.4-2.3l-1.7-1.6l2.3-0.3L-215.1,400.7z"\n       id="path5739" /><path\n       d="M-239.5,394.8l1.2,2.4l2.6,0.4l-1.9,1.8l0.4,2.6l-2.3-1.2l-2.3,1.2l0.4-2.6l-1.9-1.8l2.6-0.4L-239.5,394.8z"\n       id="path5741" /><path\n       d="M-205.6,381.8l1.4,2.9l3.2,0.5l-2.3,2.2l0.5,3.1l-2.8-1.5l-2.8,1.5l0.5-3.1l-2.3-2.2l3.1-0.5L-205.6,381.8z"\n       id="path5743" /></g>\n    <g show:state="0" sytle="opacity:0;"\n     id="g5745"\n     transform="matrix(0.57687148,0,0,0.57687148,-261.60511,369.57516)"><circle\n       cx="50"\n       cy="50.000999"\n       r="25.368"\n       id="circle5747"\n       style="fill:#000000" /><g\n       id="g5749"><path\n         d="M 79.736,55.917 C 84.18,52.693 89.736,50.146 95,49.999 89.736,49.853 84.182,47.307 79.738,44.085 82.609,39.408 86.766,34.928 91.573,32.779 86.655,34.66 80.549,34.43 75.211,33.154 76.075,27.733 78.2,22.006 81.819,18.18 77.995,21.798 72.264,23.924 66.845,24.787 65.569,19.448 65.34,13.342 67.219,8.426 65.073,13.231 60.59,17.387 55.914,20.261 52.694,15.817 50.145,10.264 50,5 49.855,10.261 47.306,15.817 44.084,20.262 39.408,17.388 34.927,13.232 32.779,8.427 34.66,13.343 34.43,19.449 33.154,24.788 27.736,23.925 22.006,21.799 18.18,18.181 c 3.619,3.823 5.745,9.553 6.608,14.974 C 19.45,34.431 13.343,34.658 8.425,32.78 13.232,34.926 17.388,39.407 20.26,44.084 15.818,47.305 10.262,49.855 5,50 c 5.263,0.145 10.817,2.694 15.26,5.916 -2.872,4.676 -7.029,9.156 -11.835,11.305 4.917,-1.88 11.024,-1.65 16.362,-0.374 -0.864,5.418 -2.99,11.147 -6.608,14.974 3.824,-3.618 9.554,-5.744 14.974,-6.609 1.275,5.338 1.504,11.445 -0.375,16.363 2.148,-4.808 6.629,-8.964 11.305,-11.835 3.222,4.443 5.77,9.996 5.917,15.26 0.145,-5.264 2.693,-10.817 5.915,-15.262 4.676,2.871 9.156,7.03 11.306,11.835 -1.881,-4.916 -1.651,-11.022 -0.375,-16.361 5.419,0.863 11.148,2.989 14.972,6.607 -3.617,-3.823 -5.744,-9.554 -6.606,-14.974 5.337,-1.276 11.443,-1.506 16.361,0.374 C 86.767,65.074 82.609,60.594 79.736,55.917 Z M 50,77.44 C 34.845,77.44 22.561,65.156 22.561,50.001 22.561,34.846 34.845,22.56 50,22.56 65.152,22.56 77.439,34.846 77.439,50.001 77.439,65.156 65.152,77.44 50,77.44 Z"\n         id="path5751"\n         style="fill:#000000" /></g></g></svg>',
	title: 'devices.ABST-604.views.generic_test_remote.title',
	svgWidth: '80vw',
	svgHeight: '70vh',
	previous: true,
	next: true
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container"></div>
	<div id="body"><span class="content"></span></div>
</div>

<script>
	var idPrefix = '[data-id="' + options.id + '"] ';
	$(idPrefix + '#body > span').html(__(options.body));
	var $imageContainer = $(idPrefix + '#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);

	$imageContainer.html(options.svg);
	Homey.emit('test', function(err, device){
		if(err){
			Homey.alert(__(err.message || err));
			return;
		}
		$imageContainer.highlight(device, options.initWithDeviceData ? device.data : false);
	});
</script>